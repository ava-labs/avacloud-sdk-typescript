/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { AvaCloudSDKCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$avaxSupplyGetAVAXSupply } from "./tools/avaxSupplyGetAVAXSupply.js";
import { tool$dataEvmAddressBalancesGetNative } from "./tools/dataEvmAddressBalancesGetNative.js";
import { tool$dataEvmAddressBalancesListCollectibles } from "./tools/dataEvmAddressBalancesListCollectibles.js";
import { tool$dataEvmAddressBalancesListErc1155 } from "./tools/dataEvmAddressBalancesListErc1155.js";
import { tool$dataEvmAddressBalancesListErc20 } from "./tools/dataEvmAddressBalancesListErc20.js";
import { tool$dataEvmAddressBalancesListErc721 } from "./tools/dataEvmAddressBalancesListErc721.js";
import { tool$dataEvmAddressChainsList } from "./tools/dataEvmAddressChainsList.js";
import { tool$dataEvmAddressContractsListDeployments } from "./tools/dataEvmAddressContractsListDeployments.js";
import { tool$dataEvmAddressTransactionsList } from "./tools/dataEvmAddressTransactionsList.js";
import { tool$dataEvmAddressTransactionsListErc1155 } from "./tools/dataEvmAddressTransactionsListErc1155.js";
import { tool$dataEvmAddressTransactionsListErc20 } from "./tools/dataEvmAddressTransactionsListErc20.js";
import { tool$dataEvmAddressTransactionsListErc721 } from "./tools/dataEvmAddressTransactionsListErc721.js";
import { tool$dataEvmAddressTransactionsListInternal } from "./tools/dataEvmAddressTransactionsListInternal.js";
import { tool$dataEvmAddressTransactionsListNative } from "./tools/dataEvmAddressTransactionsListNative.js";
import { tool$dataEvmBlocksGet } from "./tools/dataEvmBlocksGet.js";
import { tool$dataEvmBlocksListLatest } from "./tools/dataEvmBlocksListLatest.js";
import { tool$dataEvmBlocksListLatestAllChains } from "./tools/dataEvmBlocksListLatestAllChains.js";
import { tool$dataEvmBlocksListTransactions } from "./tools/dataEvmBlocksListTransactions.js";
import { tool$dataEvmChainsGet } from "./tools/dataEvmChainsGet.js";
import { tool$dataEvmChainsGetAddressChains } from "./tools/dataEvmChainsGetAddressChains.js";
import { tool$dataEvmChainsList } from "./tools/dataEvmChainsList.js";
import { tool$dataEvmChainsListAllLatestBlocks } from "./tools/dataEvmChainsListAllLatestBlocks.js";
import { tool$dataEvmChainsListAllLatestTransactions } from "./tools/dataEvmChainsListAllLatestTransactions.js";
import { tool$dataEvmContractsGetDeploymentTransaction } from "./tools/dataEvmContractsGetDeploymentTransaction.js";
import { tool$dataEvmContractsGetMetadata } from "./tools/dataEvmContractsGetMetadata.js";
import { tool$dataEvmContractsListTransfers } from "./tools/dataEvmContractsListTransfers.js";
import { tool$dataEvmTransactionsGet } from "./tools/dataEvmTransactionsGet.js";
import { tool$dataEvmTransactionsListLatest } from "./tools/dataEvmTransactionsListLatest.js";
import { tool$dataEvmTransactionsListLatestAllChains } from "./tools/dataEvmTransactionsListLatestAllChains.js";
import { tool$dataHealthCheck } from "./tools/dataHealthCheck.js";
import { tool$dataIcmGet } from "./tools/dataIcmGet.js";
import { tool$dataIcmList } from "./tools/dataIcmList.js";
import { tool$dataIcmListByAddress } from "./tools/dataIcmListByAddress.js";
import { tool$dataNftsGet } from "./tools/dataNftsGet.js";
import { tool$dataNftsList } from "./tools/dataNftsList.js";
import { tool$dataNftsReindex } from "./tools/dataNftsReindex.js";
import { tool$dataOperationsExportTransactions } from "./tools/dataOperationsExportTransactions.js";
import { tool$dataOperationsGetResult } from "./tools/dataOperationsGetResult.js";
import { tool$dataPrimaryNetworkBalancesListByAddresses } from "./tools/dataPrimaryNetworkBalancesListByAddresses.js";
import { tool$dataPrimaryNetworkBlocksGet } from "./tools/dataPrimaryNetworkBlocksGet.js";
import { tool$dataPrimaryNetworkBlocksListByNodeId } from "./tools/dataPrimaryNetworkBlocksListByNodeId.js";
import { tool$dataPrimaryNetworkBlocksListLatest } from "./tools/dataPrimaryNetworkBlocksListLatest.js";
import { tool$dataPrimaryNetworkGetAssetDetails } from "./tools/dataPrimaryNetworkGetAssetDetails.js";
import { tool$dataPrimaryNetworkGetBlockchainById } from "./tools/dataPrimaryNetworkGetBlockchainById.js";
import { tool$dataPrimaryNetworkGetChainIdsForAddresses } from "./tools/dataPrimaryNetworkGetChainIdsForAddresses.js";
import { tool$dataPrimaryNetworkGetNetworkDetails } from "./tools/dataPrimaryNetworkGetNetworkDetails.js";
import { tool$dataPrimaryNetworkGetSubnetById } from "./tools/dataPrimaryNetworkGetSubnetById.js";
import { tool$dataPrimaryNetworkGetValidatorDetails } from "./tools/dataPrimaryNetworkGetValidatorDetails.js";
import { tool$dataPrimaryNetworkListBlockchains } from "./tools/dataPrimaryNetworkListBlockchains.js";
import { tool$dataPrimaryNetworkListDelegators } from "./tools/dataPrimaryNetworkListDelegators.js";
import { tool$dataPrimaryNetworkListL1Validators } from "./tools/dataPrimaryNetworkListL1Validators.js";
import { tool$dataPrimaryNetworkListSubnets } from "./tools/dataPrimaryNetworkListSubnets.js";
import { tool$dataPrimaryNetworkListValidators } from "./tools/dataPrimaryNetworkListValidators.js";
import { tool$dataPrimaryNetworkRewardsListHistoricalRewards } from "./tools/dataPrimaryNetworkRewardsListHistoricalRewards.js";
import { tool$dataPrimaryNetworkRewardsListPendingRewards } from "./tools/dataPrimaryNetworkRewardsListPendingRewards.js";
import { tool$dataPrimaryNetworkTransactionsGet } from "./tools/dataPrimaryNetworkTransactionsGet.js";
import { tool$dataPrimaryNetworkTransactionsListActiveStakingTransactions } from "./tools/dataPrimaryNetworkTransactionsListActiveStakingTransactions.js";
import { tool$dataPrimaryNetworkTransactionsListAssetTransactions } from "./tools/dataPrimaryNetworkTransactionsListAssetTransactions.js";
import { tool$dataPrimaryNetworkTransactionsListLatest } from "./tools/dataPrimaryNetworkTransactionsListLatest.js";
import { tool$dataPrimaryNetworkUtxosListByAddresses } from "./tools/dataPrimaryNetworkUtxosListByAddresses.js";
import { tool$dataPrimaryNetworkVerticesGetByHash } from "./tools/dataPrimaryNetworkVerticesGetByHash.js";
import { tool$dataPrimaryNetworkVerticesListByHeight } from "./tools/dataPrimaryNetworkVerticesListByHeight.js";
import { tool$dataPrimaryNetworkVerticesListLatest } from "./tools/dataPrimaryNetworkVerticesListLatest.js";
import { tool$dataSignatureAggregatorAggregate } from "./tools/dataSignatureAggregatorAggregate.js";
import { tool$dataSignatureAggregatorGet } from "./tools/dataSignatureAggregatorGet.js";
import { tool$dataTeleporterGetTeleporterMessage } from "./tools/dataTeleporterGetTeleporterMessage.js";
import { tool$dataTeleporterListTeleporterMessages } from "./tools/dataTeleporterListTeleporterMessages.js";
import { tool$dataTeleporterListTeleporterMessagesByAddress } from "./tools/dataTeleporterListTeleporterMessagesByAddress.js";
import { tool$dataUsageMetricsGetLogs } from "./tools/dataUsageMetricsGetLogs.js";
import { tool$dataUsageMetricsGetRpcUsageMetrics } from "./tools/dataUsageMetricsGetRpcUsageMetrics.js";
import { tool$dataUsageMetricsGetSubnetRpcUsage } from "./tools/dataUsageMetricsGetSubnetRpcUsage.js";
import { tool$dataUsageMetricsGetUsage } from "./tools/dataUsageMetricsGetUsage.js";
import { tool$lookingGlassCompositeQuery } from "./tools/lookingGlassCompositeQuery.js";
import { tool$metricsChainsGet } from "./tools/metricsChainsGet.js";
import { tool$metricsChainsGetICMMetrics } from "./tools/metricsChainsGetICMMetrics.js";
import { tool$metricsChainsGetICMRollingWindowMetrics } from "./tools/metricsChainsGetICMRollingWindowMetrics.js";
import { tool$metricsChainsGetMetrics } from "./tools/metricsChainsGetMetrics.js";
import { tool$metricsChainsGetRollingWindowMetrics } from "./tools/metricsChainsGetRollingWindowMetrics.js";
import { tool$metricsChainsGetTeleporterMetrics } from "./tools/metricsChainsGetTeleporterMetrics.js";
import { tool$metricsChainsList } from "./tools/metricsChainsList.js";
import { tool$metricsChainsListBTCbBridgersAboveThreshold } from "./tools/metricsChainsListBTCbBridgersAboveThreshold.js";
import { tool$metricsChainsListNftHolders } from "./tools/metricsChainsListNftHolders.js";
import { tool$metricsChainsListTokenHoldersAboveThreshold } from "./tools/metricsChainsListTokenHoldersAboveThreshold.js";
import { tool$metricsHealthCheck } from "./tools/metricsHealthCheck.js";
import { tool$metricsL1ValidatorsGetMetricsByNodeId } from "./tools/metricsL1ValidatorsGetMetricsByNodeId.js";
import { tool$metricsL1ValidatorsGetMetricsBySubnetId } from "./tools/metricsL1ValidatorsGetMetricsBySubnetId.js";
import { tool$metricsL1ValidatorsGetMetricsByValidationId } from "./tools/metricsL1ValidatorsGetMetricsByValidationId.js";
import { tool$metricsL1ValidatorsListMetrics } from "./tools/metricsL1ValidatorsListMetrics.js";
import { tool$metricsNetworksGetStakingMetrics } from "./tools/metricsNetworksGetStakingMetrics.js";
import { tool$metricsSubnetsGetValidators } from "./tools/metricsSubnetsGetValidators.js";
import { tool$webhooksAddressesAdd } from "./tools/webhooksAddressesAdd.js";
import { tool$webhooksAddressesList } from "./tools/webhooksAddressesList.js";
import { tool$webhooksAddressesRemove } from "./tools/webhooksAddressesRemove.js";
import { tool$webhooksCreate } from "./tools/webhooksCreate.js";
import { tool$webhooksDeactivate } from "./tools/webhooksDeactivate.js";
import { tool$webhooksGenerateOrRotateSharedSecret } from "./tools/webhooksGenerateOrRotateSharedSecret.js";
import { tool$webhooksGet } from "./tools/webhooksGet.js";
import { tool$webhooksGetSharedSecret } from "./tools/webhooksGetSharedSecret.js";
import { tool$webhooksList } from "./tools/webhooksList.js";
import { tool$webhooksUpdate } from "./tools/webhooksUpdate.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL: string;
  apiKey?: SDKOptions["apiKey"] | undefined;
  chainId?: SDKOptions["chainId"] | undefined;
  network?: SDKOptions["network"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "AvaCloudSDK",
    version: "0.13.3",
  });

  const client = new AvaCloudSDKCore({
    apiKey: deps.apiKey,
    chainId: deps.chainId,
    network: deps.network,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$metricsHealthCheck);
  tool(tool$lookingGlassCompositeQuery);
  tool(tool$dataHealthCheck);
  tool(tool$webhooksList);
  tool(tool$webhooksCreate);
  tool(tool$webhooksGet);
  tool(tool$webhooksDeactivate);
  tool(tool$webhooksUpdate);
  tool(tool$webhooksGenerateOrRotateSharedSecret);
  tool(tool$webhooksGetSharedSecret);
  tool(tool$avaxSupplyGetAVAXSupply);
  tool(tool$metricsChainsList);
  tool(tool$metricsChainsGet);
  tool(tool$metricsChainsGetMetrics);
  tool(tool$metricsChainsGetRollingWindowMetrics);
  tool(tool$metricsChainsGetTeleporterMetrics);
  tool(tool$metricsChainsGetICMMetrics);
  tool(tool$metricsChainsGetICMRollingWindowMetrics);
  tool(tool$metricsChainsListNftHolders);
  tool(tool$metricsChainsListTokenHoldersAboveThreshold);
  tool(tool$metricsChainsListBTCbBridgersAboveThreshold);
  tool(tool$metricsNetworksGetStakingMetrics);
  tool(tool$metricsL1ValidatorsListMetrics);
  tool(tool$metricsL1ValidatorsGetMetricsByValidationId);
  tool(tool$metricsL1ValidatorsGetMetricsByNodeId);
  tool(tool$metricsL1ValidatorsGetMetricsBySubnetId);
  tool(tool$metricsSubnetsGetValidators);
  tool(tool$dataNftsReindex);
  tool(tool$dataNftsList);
  tool(tool$dataNftsGet);
  tool(tool$dataOperationsGetResult);
  tool(tool$dataOperationsExportTransactions);
  tool(tool$dataPrimaryNetworkGetAssetDetails);
  tool(tool$dataPrimaryNetworkGetChainIdsForAddresses);
  tool(tool$dataPrimaryNetworkGetNetworkDetails);
  tool(tool$dataPrimaryNetworkListBlockchains);
  tool(tool$dataPrimaryNetworkGetBlockchainById);
  tool(tool$dataPrimaryNetworkListSubnets);
  tool(tool$dataPrimaryNetworkGetSubnetById);
  tool(tool$dataPrimaryNetworkListValidators);
  tool(tool$dataPrimaryNetworkGetValidatorDetails);
  tool(tool$dataPrimaryNetworkListDelegators);
  tool(tool$dataPrimaryNetworkListL1Validators);
  tool(tool$dataTeleporterGetTeleporterMessage);
  tool(tool$dataTeleporterListTeleporterMessages);
  tool(tool$dataTeleporterListTeleporterMessagesByAddress);
  tool(tool$dataIcmGet);
  tool(tool$dataIcmList);
  tool(tool$dataIcmListByAddress);
  tool(tool$dataUsageMetricsGetUsage);
  tool(tool$dataUsageMetricsGetLogs);
  tool(tool$dataUsageMetricsGetSubnetRpcUsage);
  tool(tool$dataUsageMetricsGetRpcUsageMetrics);
  tool(tool$dataSignatureAggregatorAggregate);
  tool(tool$dataSignatureAggregatorGet);
  tool(tool$webhooksAddressesList);
  tool(tool$webhooksAddressesRemove);
  tool(tool$webhooksAddressesAdd);
  tool(tool$dataEvmTransactionsListLatestAllChains);
  tool(tool$dataEvmTransactionsGet);
  tool(tool$dataEvmTransactionsListLatest);
  tool(tool$dataEvmBlocksListLatestAllChains);
  tool(tool$dataEvmBlocksListLatest);
  tool(tool$dataEvmBlocksGet);
  tool(tool$dataEvmBlocksListTransactions);
  tool(tool$dataEvmContractsGetDeploymentTransaction);
  tool(tool$dataEvmContractsGetMetadata);
  tool(tool$dataEvmContractsListTransfers);
  tool(tool$dataEvmChainsList);
  tool(tool$dataEvmChainsGet);
  tool(tool$dataEvmChainsGetAddressChains);
  tool(tool$dataEvmChainsListAllLatestTransactions);
  tool(tool$dataEvmChainsListAllLatestBlocks);
  tool(tool$dataPrimaryNetworkTransactionsGet);
  tool(tool$dataPrimaryNetworkTransactionsListLatest);
  tool(tool$dataPrimaryNetworkTransactionsListActiveStakingTransactions);
  tool(tool$dataPrimaryNetworkTransactionsListAssetTransactions);
  tool(tool$dataPrimaryNetworkRewardsListPendingRewards);
  tool(tool$dataPrimaryNetworkRewardsListHistoricalRewards);
  tool(tool$dataPrimaryNetworkUtxosListByAddresses);
  tool(tool$dataPrimaryNetworkBalancesListByAddresses);
  tool(tool$dataPrimaryNetworkBlocksGet);
  tool(tool$dataPrimaryNetworkBlocksListByNodeId);
  tool(tool$dataPrimaryNetworkBlocksListLatest);
  tool(tool$dataPrimaryNetworkVerticesListLatest);
  tool(tool$dataPrimaryNetworkVerticesGetByHash);
  tool(tool$dataPrimaryNetworkVerticesListByHeight);
  tool(tool$dataEvmAddressChainsList);
  tool(tool$dataEvmAddressBalancesGetNative);
  tool(tool$dataEvmAddressBalancesListErc20);
  tool(tool$dataEvmAddressBalancesListErc721);
  tool(tool$dataEvmAddressBalancesListErc1155);
  tool(tool$dataEvmAddressBalancesListCollectibles);
  tool(tool$dataEvmAddressContractsListDeployments);
  tool(tool$dataEvmAddressTransactionsList);
  tool(tool$dataEvmAddressTransactionsListNative);
  tool(tool$dataEvmAddressTransactionsListErc20);
  tool(tool$dataEvmAddressTransactionsListErc721);
  tool(tool$dataEvmAddressTransactionsListErc1155);
  tool(tool$dataEvmAddressTransactionsListInternal);

  return server;
}
